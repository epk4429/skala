<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>03. DOM 기본 조작</title>
    <style>
        body {
            font-family: 'Malgun Gothic', sans-serif;
            max-width: 800px;
            margin: 50px auto;
            padding: 20px;
            background-color: #f5f5f5;
        }
        .container {
            background: white;
            padding: 30px;
            border-radius: 10px;
            box-shadow: 0 2px 10px rgba(0,0,0,0.1);
        }
        h1 {
            color: #333;
            border-bottom: 3px solid #FF9800;
            padding-bottom: 10px;
        }
        .example {
            background: #f9f9f9;
            padding: 15px;
            margin: 15px 0;
            border-left: 4px solid #FF9800;
            border-radius: 5px;
        }
        .output {
            background: #fff3e0;
            padding: 15px;
            margin-top: 10px;
            border-radius: 5px;
            min-height: 50px;
        }
        button {
            background: #FF9800;
            color: white;
            border: none;
            padding: 10px 20px;
            margin: 5px;
            border-radius: 5px;
            cursor: pointer;
        }
        button:hover {
            background: #F57C00;
        }
        #demo-box {
            width: 200px;
            height: 100px;
            background-color: #4CAF50;
            color: white;
            display: flex;
            align-items: center;
            justify-content: center;
            margin: 10px 0;
            border-radius: 5px;
            transition: all 0.3s;
        }
        .highlight {
            background-color: #FFEB3B !important;
            color: #333 !important;
            font-weight: bold;
        }
        .large-text {
            font-size: 24px;
        }
        .red-text {
            color: red;
        }
        .blue-bg {
            background-color: #2196F3 !important;
        }
    </style>
</head>
<body>
    <div class="container">
        <h1>03. DOM 기본 조작</h1>
        
        <div class="example">
            <h3>1. 요소 선택하기</h3>
            <p>HTML 요소를 선택하는 두 가지 주요 방법:</p>
            <ul>
                <li><strong>getElementById</strong>: ID로 요소 선택 (하나의 요소만 반환)</li>
                <li><strong>querySelector</strong>: CSS 선택자로 요소 선택 (첫 번째 요소만 반환)</li>
            </ul>
            <p id="select-demo">이 텍스트를 선택해봅시다!</p>
            <button onclick="selectElement()">요소 선택하기</button>
            <div id="select-output" class="output"></div>
        </div>

        <div class="example">
            <h3>2. 텍스트 내용 변경하기</h3>
            <p>innerHTML과 textContent의 차이를 알아봅시다.</p>
            <p id="text-demo">원래 텍스트입니다.</p>
            <button onclick="changeText()">텍스트 변경 (textContent)</button>
            <button onclick="changeHTML()">HTML 변경 (innerHTML)</button>
            <div id="text-output" class="output"></div>
        </div>

        <div class="example">
            <h3>3. 스타일 변경하기</h3>
            <p>JavaScript로 CSS 스타일을 동적으로 변경할 수 있습니다.</p>
            <div id="demo-box">스타일 변경 예제 박스</div>
            <button onclick="changeColor()">색상 변경</button>
            <button onclick="changeSize()">크기 변경</button>
            <button onclick="resetStyle()">스타일 초기화</button>
            <div id="style-output" class="output"></div>
        </div>

        <div class="example">
            <h3>4. 클래스 추가/제거하기</h3>
            <p>classList를 사용하여 클래스를 동적으로 관리합니다.</p>
            <p id="class-demo">이 텍스트에 클래스를 추가/제거해봅시다.</p>
            <button onclick="addClass()">클래스 추가</button>
            <button onclick="removeClass()">클래스 제거</button>
            <button onclick="toggleClass()">클래스 토글</button>
            <div id="class-output" class="output"></div>
        </div>

        <div class="example">
            <h3>5. 실전 예제: 간단한 카운터</h3>
            <p>지금까지 배운 내용을 활용한 실전 예제입니다.</p>
            <div style="text-align: center; padding: 20px;">
                <h2 id="counter">0</h2>
                <button onclick="incrementCounter()">증가 (+1)</button>
                <button onclick="decrementCounter()">감소 (-1)</button>
                <button onclick="resetCounter()">초기화</button>
            </div>
        </div>
    </div>

    <script>
        // ============================================
        // DOM이란?
        // ============================================
        // DOM (Document Object Model): HTML 문서를 객체로 표현한 것
        // JavaScript를 통해 HTML 요소에 접근하고 조작할 수 있게 해줍니다.

        // ============================================
        // 1. 요소 선택하기
        // ============================================
        
        function selectElement() {
            const output = document.getElementById('select-output');
            let result = '<strong>요소 선택 방법:</strong><br><br>';
            
            // 방법 1: getElementById - ID로 요소 선택
            // ID는 문서에서 유일해야 합니다 (하나만 있어야 함)
            const elementById = document.getElementById('select-demo');
            result += '<strong>1. getElementById 사용:</strong><br>';
            result += 'const element = document.getElementById("select-demo");<br>';
            result += `선택된 요소의 텍스트: "${elementById.textContent}"<br><br>`;
            
            // 방법 2: querySelector - CSS 선택자로 요소 선택
            // 첫 번째로 일치하는 요소 하나만 반환
            const elementByQuery = document.querySelector('#select-demo');
            result += '<strong>2. querySelector 사용:</strong><br>';
            result += 'const element = document.querySelector("#select-demo");<br>';
            result += `선택된 요소의 텍스트: "${elementByQuery.textContent}"<br><br>`;
            
            // querySelector는 다양한 CSS 선택자 사용 가능
            const elementByTag = document.querySelector('p');
            result += '<strong>3. 태그 선택자 사용:</strong><br>';
            result += 'const element = document.querySelector("p");<br>';
            result += `첫 번째 p 태그의 텍스트: "${elementByTag.textContent}"<br>`;
            
            output.innerHTML = result;
        }

        // ============================================
        // 2. 텍스트 내용 변경하기
        // ============================================
        
        function changeText() {
            const demoElement = document.getElementById('text-demo');
            const output = document.getElementById('text-output');
            
            // textContent: 순수 텍스트만 설정 (HTML 태그는 무시됨)
            // 보안상 안전하고, HTML 태그를 텍스트로 표시할 때 사용
            demoElement.textContent = 'textContent로 변경된 텍스트입니다.';
            
            let result = '<strong>textContent 사용:</strong><br>';
            result += 'element.textContent = "새로운 텍스트";<br><br>';
            result += '<strong>특징:</strong><br>';
            result += '- HTML 태그를 텍스트로 처리 (태그가 화면에 그대로 표시됨)<br>';
            result += '- 보안상 안전함<br>';
            result += '- 순수 텍스트만 설정할 때 사용<br>';
            
            output.innerHTML = result;
        }

        function changeHTML() {
            const demoElement = document.getElementById('text-demo');
            const output = document.getElementById('text-output');
            
            // innerHTML: HTML 태그를 포함하여 설정
            // HTML 태그가 실제로 렌더링됨
            demoElement.innerHTML = 'innerHTML로 변경된 <strong>굵은</strong> 텍스트입니다.';
            
            let result = '<strong>innerHTML 사용:</strong><br>';
            result += 'element.innerHTML = "새로운 <strong>HTML</strong> 텍스트";<br><br>';
            result += '<strong>특징:</strong><br>';
            result += '- HTML 태그를 실제로 렌더링함<br>';
            result += '- 동적으로 HTML 구조를 변경할 수 있음<br>';
            result += '- 사용자 입력을 직접 넣으면 XSS 공격 위험이 있음 (주의 필요)<br>';
            
            output.innerHTML = result;
        }

        // ============================================
        // 3. 스타일 변경하기
        // ============================================
        
        function changeColor() {
            const box = document.getElementById('demo-box');
            const output = document.getElementById('style-output');
            
            // style 속성을 통해 CSS 스타일 변경
            // CSS 속성명은 camelCase로 변환 (background-color → backgroundColor)
            box.style.backgroundColor = '#FF5722';
            box.style.color = 'white';
            
            let result = '<strong>스타일 변경:</strong><br>';
            result += 'element.style.backgroundColor = "#FF5722";<br>';
            result += 'element.style.color = "white";<br><br>';
            result += '<strong>주의사항:</strong><br>';
            result += '- CSS 속성명은 camelCase로 작성 (하이픈 제거)<br>';
            result += '- 예: background-color → backgroundColor<br>';
            result += '- 예: font-size → fontSize<br>';
            result += '- 예: margin-top → marginTop<br>';
            
            output.innerHTML = result;
        }

        function changeSize() {
            const box = document.getElementById('demo-box');
            const output = document.getElementById('style-output');
            
            // 여러 스타일 속성을 한 번에 변경
            box.style.width = '300px';
            box.style.height = '150px';
            box.style.fontSize = '20px';
            
            let result = '<strong>크기 변경:</strong><br>';
            result += 'element.style.width = "300px";<br>';
            result += 'element.style.height = "150px";<br>';
            result += 'element.style.fontSize = "20px";<br>';
            
            output.innerHTML = result;
        }

        function resetStyle() {
            const box = document.getElementById('demo-box');
            const output = document.getElementById('style-output');
            
            // 스타일 초기화 (빈 문자열로 설정하면 인라인 스타일 제거)
            box.style.backgroundColor = '';
            box.style.color = '';
            box.style.width = '';
            box.style.height = '';
            box.style.fontSize = '';
            
            let result = '<strong>스타일 초기화:</strong><br>';
            result += '빈 문자열("")로 설정하면 인라인 스타일이 제거되고<br>';
            result += 'CSS 파일의 스타일이 다시 적용됩니다.';
            
            output.innerHTML = result;
        }

        // ============================================
        // 4. 클래스 추가/제거하기
        // ============================================
        
        function addClass() {
            const demoElement = document.getElementById('class-demo');
            const output = document.getElementById('class-output');
            
            // classList.add(): 클래스 추가
            // 여러 클래스를 한 번에 추가할 수도 있음
            demoElement.classList.add('highlight');
            
            let result = '<strong>클래스 추가:</strong><br>';
            result += 'element.classList.add("highlight");<br><br>';
            result += '<strong>여러 클래스 추가:</strong><br>';
            result += 'element.classList.add("class1", "class2", "class3");<br>';
            
            output.innerHTML = result;
        }

        function removeClass() {
            const demoElement = document.getElementById('class-demo');
            const output = document.getElementById('class-output');
            
            // classList.remove(): 클래스 제거
            demoElement.classList.remove('highlight');
            
            let result = '<strong>클래스 제거:</strong><br>';
            result += 'element.classList.remove("highlight");<br>';
            
            output.innerHTML = result;
        }

        function toggleClass() {
            const demoElement = document.getElementById('class-demo');
            const output = document.getElementById('class-output');
            
            // classList.toggle(): 클래스가 있으면 제거, 없으면 추가
            // 토글: 스위치처럼 켜고 끄는 것
            demoElement.classList.toggle('highlight');
            
            const hasClass = demoElement.classList.contains('highlight');
            let result = '<strong>클래스 토글:</strong><br>';
            result += 'element.classList.toggle("highlight");<br><br>';
            result += `현재 상태: ${hasClass ? '클래스 있음' : '클래스 없음'}<br><br>`;
            result += '<strong>활용:</strong> 버튼을 클릭할 때마다 스타일을 켜고 끄는 데 사용<br>';
            
            output.innerHTML = result;
        }

        // ============================================
        // 5. 실전 예제: 간단한 카운터
        // ============================================
        
        // 카운터 값을 저장할 변수
        let counterValue = 0;

        function incrementCounter() {
            // 카운터 값 증가
            counterValue = counterValue + 1;
            // 또는 counterValue += 1; 또는 counterValue++;
            
            // 화면에 표시된 숫자 업데이트
            const counterElement = document.getElementById('counter');
            counterElement.textContent = counterValue;
            
            // 10 이상이면 빨간색으로 표시
            if (counterValue >= 10) {
                counterElement.style.color = 'red';
                counterElement.style.fontSize = '36px';
            } else {
                counterElement.style.color = 'black';
                counterElement.style.fontSize = '32px';
            }
        }

        function decrementCounter() {
            // 카운터 값 감소
            counterValue = counterValue - 1;
            // 또는 counterValue -= 1; 또는 counterValue--;
            
            // 화면에 표시된 숫자 업데이트
            const counterElement = document.getElementById('counter');
            counterElement.textContent = counterValue;
            
            // 0 미만이면 파란색으로 표시
            if (counterValue < 0) {
                counterElement.style.color = 'blue';
                counterElement.style.fontSize = '36px';
            } else if (counterValue < 10) {
                counterElement.style.color = 'black';
                counterElement.style.fontSize = '32px';
            }
        }

        function resetCounter() {
            // 카운터 값 초기화
            counterValue = 0;
            
            // 화면에 표시된 숫자 업데이트
            const counterElement = document.getElementById('counter');
            counterElement.textContent = counterValue;
            counterElement.style.color = 'black';
            counterElement.style.fontSize = '32px';
        }
    </script>
</body>
</html>
